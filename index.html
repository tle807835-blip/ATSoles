<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ATSoles</title>
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.0/css/all.min.css" />
</head>

<body>
    <!-- Header -->
    <header class="header">
        <div class="header__container">
            <div class="header__logo"><img src="image/Logo.png" alt="ATSoles Logo"></div>
            <nav class="header__nav">
                <a class="header__link__home" href="#">Trang Chủ</a>
                <a class="header__link" href="BoSuuTap.html">Bộ Sưu Tập</a>
                                <a class="header__link" href="Oders.html">Lịch sử đơn hàng</a>
            </nav>
            <div class="header__search">
                <i class="fa-solid fa-magnifying-glass"></i>
                <input type="text" id="search" placeholder="Tìm kiếm sản phẩm...">
                <div class="product__list"></div>
            </div>
            <div class="header__icons">
                <a href="Cart.html"><i class="fa-solid fa-cart-shopping"></i></a>
                <a href="Login.html"><i class="fa-solid fa-user"></i></a>
            </div>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="hero">
        <div class="hero__container">
            <div class="hero__content">
                <h1 class="hero__title">Mỗi Bước Chạy – Kể Câu Chuyện <br> Chinh Phục Của Riêng Bạn</h1>
                <p class="hero__des">
                Khám phá bộ sưu tập giày thể thao hiện đại kết hợp giữa công nghệ tiên tiến và thiết kế năng động. <br>Nơi hiệu suất gặp gỡ phong cách, đồng hành cùng bạn trên mọi hành trình.
                </p>
                <a href="BoSuuTap.html" class="hero__a">Khám Phá Bộ Sưu Tập <i class="fa-solid fa-arrow-right"></i></a>
            </div>
        </div>
    </section>

    <!-- Collection -->
    <section class="collection">
        <div class="collection__container">
            <h2 class="collection__title">Bộ Sưu Tập Nổi Bật</h2>
            <p class="collection__subtitle">Khám phá những xu hướng mới nhất và sản phẩm được yêu thích nhất</p>
        
            <div class="collection__grid">
                <div class="collection__card" data-category="thoitrang">
                    <div class="collection__card__img">
                        <img src="image/Thời Trang.png" alt="">
                    </div>
                    <p class="collection__card__desc">
                        Khám phá bộ sưu tập với phong cách tinh tế, phù hợp cho cả nam và nữ…
                    </p>
                    <a class="collection__card__link">Xem Bộ Sưu Tập →</a>
                </div>
            
                <div class="collection__card" data-category="sneaker">
                    <div class="collection__card__img">
                        <img src="image/Sneakerr.png" alt="">
                    </div>
                    <p class="collection__card__desc">
                        Giày thể thao cao cấp kết hợp công nghệ hiện đại với thiết kế thời trang…
                    </p>
                    <a class="collection__card__link">Xem Bộ Sưu Tập →</a>
                </div>
            
                <div class="collection__card" data-category="congso">
                    <div class="collection__card__img">
                        <img src="image/Công Sở.png" alt="">
                    </div>
                    <p class="collection__card__desc">
                        Bộ sưu tập giày công sở với thiết kế thanh lịch, tôn lên vẻ đẹp tự tin…
                    </p>
                    <a class="collection__card__link">Xem Bộ Sưu Tập →</a>
                </div>
            
            </div>
        </div>
    </section>
    

  <!-- Trending Products -->
    <section class="trending">
        <div class="trending__container">
            <div class="trending__header">
                <div>
                    <h2 class="trending__title">Sản Phẩm Thịnh Hành</h2>
                    <p class="trending__subtitle">Những đôi giày được yêu thích nhất tuần này</p>
                </div>
                <a href="#" class="trending__viewall">Xem tất cả <i class="fa-solid fa-arrow-right"></i></a>
            </div>
        </div>
    </section>

    <div class="product">
        <div class="container">
            <div class="head">
                <div class="product__sp"></div>
            </div>
        </div>
    </section>

  <!-- Testimonials -->
    <section class="testimonials">
        <div class="container">
            <div class="testimonials__container">
                <h2 class="collection__title">Khách Hàng Nói Gì?</h2>
                <p class="collection__subtitle">Những chia sẻ chân thực từ khách hàng đã trải nghiệm sản phẩm của chúng tôi</p>
            </div>

            <div class="testimonials__grid">
                <div class="testimonial-card">
                    <div class="testimonial-card__stars">★★★★★</div>
                    <div class="testimonial-card__user">
                    <img src="image/image 6.png" alt="">
                    <p>Nguyễn Văn Minh</p>
                    </div>
                    <p class="testimonial-card__text">“Chất lượng giày tuyệt vời, da mềm mại và thiết kế rất sang trọng. Đã mua 3 đôi và đều rất hài lòng. Dịch vụ khách hàng cũng rất chu đáo.”</p>
                </div>

                <div class="testimonial-card">
                    <div class="testimonial-card__stars">★★★★★</div>
                    <div class="testimonial-card__user">
                    <img src="image/image 6 (1).png" alt="">
                    <p>Trần Mỹ Huệ</p>
                    </div>
                    <p class="testimonial-card__text">"Giày sneaker rất thoải mái, phù hợp cho cả đi làm và dạo phố. Thiết kế hiện đại và chất lượng vượt mong đợi với mức giá này."</p>
                </div>

                <div class="testimonial-card">
                    <div class="testimonial-card__stars">★★★★★</div>
                    <div class="testimonial-card__user">
                    <img src="image/image 6 (2).png" alt="">
                    <p>Lê Hà Ngọc Vân</p>
                    </div>
                    <p class="testimonial-card__text">"Giày rất đẹp và thoải mái. Giao hàng nhanh và đóng gói cẩn thận. Sẽ tiếp tục ủng hộ!"</p>
                </div>
            </div>
        </div>
    </section>

  <!-- Newsletter -->
    <section class="newsletter">
        <div class="newsletter__container">
            <h2 class="newsletter__title">Đăng Ký Nhận Tin Mới Nhất</h2>
            <p class="newsletter__desc">Nhận thông tin về bộ sưu tập mới, ưu đãi đặc biệt và xu hướng thời trang giày mới nhất.</p>
            <div class="newsletter__form">
                <input type="email" placeholder="Nhập email của bạn...">
                <button class="newsletter__button">Đăng ký</button>
            </div>
        </div>
    </section>
  
    <!-- Footer -->
    <footer class="footer">
        <div class="footer__container">
            <div class="footer__about">
                <img src="image/Logo.png" alt="Logo">
                <p>Chúng tôi có những bộ quần áo phù hợp với phong cách của bạn...</p>
                <div class="footer__socials">
                    <i class="fa-brands fa-twitter"></i>
                    <i class="fa-brands fa-facebook-f"></i>
                    <i class="fa-brands fa-instagram"></i>
                </div>
            </div>
      
            <div class="footer__links">
                <h3>L I Ê N  K Ế T  N H A N H</h3>
                <a href="#">Trang Chủ</a>
                <a href="#">Bộ Sưu Tập</a>
                <a href="#">Sản Phẩm Thịnh Hành</a>
            </div>
      
            <div class="footer__help">
                <h3>H Ổ T R Ợ  K H Á C H  H À N G </h3>
                <a href="#">Hỗ Trợ Đối Sách</a>
                <a href="#">Hướng Dẫn Thanh Toán</a>
                <a href="#">Vận Chuyển</a>
                <a href="#">Bảo Hành</a>
                <a href="#">FAQ</a>
            </div>
        </div>
    
        <div class="container">
            <div class="footer__bottom">
                © ATSOLES 2025, All Rights Reserved.
            </div>
        </div>
    </footer>

    <div id="login" class="notice">
        <div class="not__login">
            <h3>Bạn chưa đăng nhập</h3>
            <p>Hãy đăng nhập hoặc đăng ký để thêm sản phẩm vào giỏ hàng.</p>
            <div class="login__signup">
                <button id="loginn">Đăng nhập</button>
                <button id="signup">Đăng ký</button>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const PRODUCTS_PER_PAGE = 6;
            let currentPage = 1;

            // List sản phẩm
            const allProducts = [
                { 
                    name: "Platform Sneakers", 
                    category: "sneaker", 
                    price: 178000, 
                    desc: "Giày Sneaker Phong Cách Hàn Quốc", 
                    img: "image/Sneaker.png",
                    images: ["image/Sneaker.png", "image/Sneaker1.png", "image/Sneaker2.png"]
                },
                { 
                    name: "Office Shoes", 
                    category: "congso", 
                    price: 520000, 
                    desc: "Giày công sở cao cấp", 
                    img: "image/Office Shoes.webp",
                    images: ["image/Office Shoes.webp", "image/Office Shoes1.webp", "image/Office Shoes2.webp"]
                },
                { 
                    name: "Fashion Heels", 
                    category: "thoitrang", 
                    price: 460000, 
                    desc: "Giày thời trang nữ thanh lịch", 
                    img: "image/Fashion Heels.webp",
                    images: ["image/Fashion Heels.webp", "image/Fashion Heels1.webp", "image/Fashion Heels2.webp"]
                },
                { 
                    name: "New Balance 530", 
                    category: "Sneaker", 
                    price: 1460000, 
                    desc: " Giày NewBalance 530 Phối Đồ Cực Đẹp Full Size", 
                    img: "image/New Balance.webp",
                    images: ["image/New Balance.webp", "image/New Balance1.webp", "image/New Balance2.webp"]
                }
            ];
            
            const productContainer = document.querySelector(".product__sp");
            const pagination = document.querySelector(".page");
            
            // Click ảnh nhỏ thành ảnh bư 
            document.querySelectorAll(".collection__card").forEach(card => {
                card.addEventListener("click", () => {
                    const cate = card.dataset.category;
                    localStorage.setItem("collectionFilter", cate);
                    window.location.href = "BoSuuTap.html";
                });
            });
        
            // Xem tất cả mục sản phẩn
            document.querySelector(".trending__viewall")
                ?.addEventListener("click", e => {
                    e.preventDefault();
                    localStorage.removeItem("collectionFilter"); 
                    window.location.href = "BoSuuTap.html";
                });
            
            // Card Sản phẩm
            function createProductCard(product) {
                return `
                    <div class="product-card"
                        data-name="${product.name}"
                        data-price="${product.price}"
                        data-desc="${product.desc}"
                        data-images='${JSON.stringify(product.images)}'>
                
                        <img src="${product.img}" alt="${product.name}">
                        <h3 class="product-card__name">${product.name}</h3>
                        <p class="product-card__desc">${product.desc}</p>
                
                        <div class="product-card__info">
                            <span class="product-card__price">${product.price.toLocaleString()}đ</span>
                            <span class="product-card__rating">★ 4.8 (190)</span>
                        </div>
                    
                        <a href="#" class="product-card__link">
                            Xem Chi Tiết <i class="fa-solid fa-arrow-right"></i>
                        </a>
                    </div>
                `;
            }
        
            // Render sản phẩm
            function renderProducts(page = 1) {
                const start = (page - 1) * PRODUCTS_PER_PAGE;
                const end = start + PRODUCTS_PER_PAGE;
                const pageProducts = allProducts.slice(start, end);
            
                productContainer.innerHTML = pageProducts.map(createProductCard).join("");
            
                attachProductClickEvents();
            
                const totalPages = Math.ceil(allProducts.length / PRODUCTS_PER_PAGE);
                if (!pagination) return;
            
                pagination.innerHTML = totalPages > 1 ? `
                    <a href="#" class="left"><i class="fa-solid fa-chevron-left"></i></a>
                    ${Array.from({ length: totalPages }, (_, i) =>
                        `<a href="#" class="page_${i+1} ${i+1===page ? "active" : ""}">${i+1}</a>`
                    ).join("")}
                    <a href="#" class="right"><i class="fa-solid fa-chevron-right"></i></a>
                ` : "";
            
                attachPaginationEvents(totalPages);
            }
        
            // Click sản phẩm → Product.html
            function attachProductClickEvents() {
                document.querySelectorAll(".product-card").forEach(card => {
            
                    card.addEventListener("click", function () {
                        openProduct(card);
                    });
                
                    card.querySelector(".product-card__link")
                        .addEventListener("click", function (e) {
                            e.preventDefault();
                            e.stopPropagation();
                            openProduct(card);
                        });
                });
            }
        
            function openProduct(card) {

                const isLoggedIn = localStorage.getItem("isLoggedIn");
                const popup = document.getElementById("login");
                const goLogin = document.getElementById("loginn");
                const goRegister = document.getElementById("signup");

                // Nếu chưa đăng nhập
                if (!isLoggedIn) {
                    popup.style.display = "flex";
                    goLogin.onclick = () => window.location.href = "Login.html";
                    goRegister.onclick = () => window.location.href = "Register.html";
                
                    return; // CHẶN không cho qua Product.html
                }
                // Nếu đã đăng nhập → cho xem chi tiết
                const product = {
                    name: card.dataset.name,
                    desc: card.dataset.desc,
                    price: Number(card.dataset.price),
                    images: JSON.parse(card.dataset.images)
                };
            
                localStorage.setItem("selectedProduct", JSON.stringify(product));
                window.location.href = "Product.html";
            }
            document.getElementById("login").addEventListener("click", function(e){
                if (e.target.id === "login") {
                    this.style.display = "none";
                }
            });

        
            // Phân trang
            function attachPaginationEvents(totalPages) {
            
                document.querySelector(".left")?.addEventListener("click", e => {
                    e.preventDefault();
                    if (currentPage > 1) {
                        currentPage--;
                        renderProducts(currentPage);
                    }
                });
            
                document.querySelector(".right")?.addEventListener("click", e => {
                    e.preventDefault();
                    if (currentPage < totalPages) {
                        currentPage++;
                        renderProducts(currentPage);
                    }
                });
            
                document.querySelectorAll(".page a").forEach(btn => {
                    btn.addEventListener("click", e => {
                        const page = Number(btn.textContent);
                        if (!isNaN(page)) {
                            currentPage = page;
                            renderProducts(currentPage);
                        }
                    });
                });
            }
            renderProducts();
        });        
    </script>
    <script src="JS/Search.js"></script>
    <script src="JS/XuLyDangNhap.js"></script>
    <script></script>
</body>
</html>
